{"version":3,"file":"commint.esm.js","sources":["../src/config.js","../src/i18n.js","../src/dom.js","../src/cache.js","../src/service.js","../src/css-once.js","../src/overlay-view.js","../src/index.js"],"sourcesContent":["// config.js\r\nexport const DEFAULTS = {\r\n    allowed_forums: [1, 2, 3, 4],\r\n    mode: \"per_post\", // \"per_post\" | \"single_topic\"\r\n    comments_forum_id: null, // required\r\n    single_topic_id: null, // required if mode=single_topic\r\n    use_overlay: true,\r\n    button_class: \"buttons\",\r\n    button_position: \"prepend\", // append, prepend\r\n    button_append: \".post_details\",\r\n    post_class: \"post\",\r\n    global_button_append: \".links_bar\",\r\n    comments_on_page: {\r\n        show: true,\r\n        max: 5,\r\n        order: \"asc\",\r\n        display: \"list\",\r\n        avatar: true,\r\n    },\r\n    tag_on_create: {\r\n        in_title: false,\r\n        format: (id) => `#p${id}`,\r\n    },\r\n    reactions: [\r\n        { emoji: \"üëç\", name: \"Like\" },\r\n        { emoji: \"‚ù§Ô∏è\", name: \"Love\" },\r\n        { emoji: \"üòÇ\", name: \"Haha\" },\r\n        { emoji: \"üòÆ\", name: \"Wow\" },\r\n        { emoji: \"üò¢\", name: \"Sad\" },\r\n        { emoji: \"üò°\", name: \"Angry\" },\r\n    ],\r\n    button_content_template({ text, count }) {\r\n        return text + (count ? ` (${count})` : \"\");\r\n    },\r\n    comment_title_template(title, id) {\r\n        const tag = this.tag_on_create.in_title\r\n            ? ` ${this.tag_on_create.format(id)}`\r\n            : \"\";\r\n        return `${title} ‚Ä¢ Commentaires${tag}`;\r\n    },\r\n    new_thread_intro(rpTopic, id) {\r\n        const tagLine = `${this.tag_on_create.format(id)}\\n\\n`;\r\n        return `${tagLine}[b]Commentaires pour : ${rpTopic.title}[/b]\\nRP : ${rpTopic.url}\\n\\n`;\r\n    },\r\n    reaction_template(reaction) {\r\n        return reaction\r\n            ? `<div class=\"commint-post-reaction\" data-name=\"${reaction.name}\">${reaction.emoji}</div>`\r\n            : \"\";\r\n    },\r\n    build_payload({ permalink, id, body, quote, op, reaction }) {\r\n        const header = quote\r\n            ? `[quote=\"@${op}\"]${quote}[/quote]\\n`\r\n            : `\"@${op}\"\\n`;\r\n        return `${header}[url=${permalink}#${id}]‚Üí Voir le message RP[/url]\\n\\n${body}${\r\n            reaction ? `\\n\\n${reaction}` : \"\"\r\n        }`;\r\n    },\r\n    lang: (navigator.language || \"fr\").replace(/-.*/, \"\") || \"fr\",\r\n    debug: true,\r\n};\r\n\r\nexport function normalizeConfig(opts = {}) {\r\n    const cfg = { ...DEFAULTS, ...opts };\r\n    if (!cfg.comments_forum_id)\r\n        throw new Error(\"comments_forum_id est requis.\");\r\n    if (cfg.mode === \"single_topic\" && !cfg.single_topic_id)\r\n        throw new Error('Mode \"single_topic\" n√©cessite single_topic_id.');\r\n    cfg.allowed_forums = (cfg.allowed_forums || [])\r\n        .map(Number)\r\n        .filter((i) => i !== cfg.comments_forum_id);\r\n    return cfg;\r\n}\r\n","// i18n.js\r\nconst I18N = {\r\n    fr: {\r\n        comment_button: \"Commenter\",\r\n        comment_global_button: \"Commenter le sujet\",\r\n        overlay_title: \"Commenter cette r√©ponse\",\r\n        cancel: \"Annuler\",\r\n        send: \"Envoyer\",\r\n        missing_post_id: \"ID du message introuvable.\",\r\n        posted_toast: \"Commentaire publi√© !\",\r\n    },\r\n    en: {\r\n        comment_button: \"Comment\",\r\n        comment_global_button: \"Comment on the topic\",\r\n        overlay_title: \"Comment on this post\",\r\n        cancel: \"Cancel\",\r\n        send: \"Send\",\r\n        missing_post_id: \"Post ID not found.\",\r\n        posted_toast: \"Comment posted!\",\r\n    },\r\n    es: {\r\n        comment_button: \"Comentar\",\r\n        comment_global_button: \"Comentar en el tema\",\r\n        overlay_title: \"Comentar en este mensaje\",\r\n        cancel: \"Cancelar\",\r\n        send: \"Enviar\",\r\n        missing_post_id: \"ID del mensaje no encontrado.\",\r\n        posted_toast: \"¬°Comentario publicado!\",\r\n    },\r\n};\r\n\r\nlet current = \"fr\";\r\nexport const T = (key) => (I18N[current] && I18N[current][key]) || key;\r\nT.setLang = (lang) => {\r\n    current = lang;\r\n};\r\n","export const qs = (root, sel) => root.querySelector(sel);\r\nexport const qsa = (root, sel) => Array.from(root.querySelectorAll(sel));\r\n\r\nexport function parsePostId(el) {\r\n    const idAttr = el.getAttribute(\"id\") || \"\";\r\n    const m = idAttr.match(/^p?(\\d+)$/);\r\n    return m ? Number(m[1]) : null;\r\n}\r\n\r\nexport function ensureCSSFor(selector) {\r\n    for (const sheet of Array.from(document.styleSheets)) {\r\n        try {\r\n            const rules = sheet.cssRules;\r\n            if (!rules) continue;\r\n            for (const r of Array.from(rules)) {\r\n                if (r.selectorText === selector) return true;\r\n            }\r\n        } catch {\r\n            /* cross-origin */\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport const ensureStyle = (() => {\r\n    const loaded = new Set();\r\n    return (id, cssText) => {\r\n        if (loaded.has(id)) return;\r\n        const s = document.createElement(\"style\");\r\n        s.dataset.id = id;\r\n        s.textContent = cssText;\r\n        document.head.appendChild(s);\r\n        loaded.add(id);\r\n    };\r\n})();\r\n\r\nfunction normalizeQuote(raw) {\r\n    return String(raw)\r\n        .replace(/\\u00a0/g, \" \") // nbsp ‚Üí espace\r\n        .replace(/\\s+\\n/g, \"\\n\") // espaces avant saut de ligne\r\n        .replace(/\\n\\s+/g, \"\\n\") // espaces apr√®s saut de ligne\r\n        .replace(/[ \\t]+/g, \" \") // espaces cons√©cutifs\r\n        .replace(/\\n{3,}/g, \"\\n\\n\") // pas plus de deux \\n de suite\r\n        .trim();\r\n}\r\n\r\nexport function getSelectionIn(container) {\r\n    const sel = window.getSelection?.();\r\n    if (!sel || sel.isCollapsed) return \"\";\r\n\r\n    // 1) chemin le plus robuste : toString()\r\n    if (\r\n        container.contains(sel.anchorNode) ||\r\n        container.contains(sel.focusNode)\r\n    ) {\r\n        const s = normalizeQuote(sel.toString());\r\n        if (s) return s;\r\n    }\r\n\r\n    // 2) fallback (rare): reconstruire via cloneContents() + TreeWalker\r\n    try {\r\n        const range = sel.getRangeAt(0);\r\n        if (!container.contains(range.commonAncestorContainer)) return \"\";\r\n        const frag = range.cloneContents();\r\n        const walker = document.createTreeWalker(\r\n            frag,\r\n            NodeFilter.SHOW_TEXT,\r\n            null\r\n        );\r\n        let out = \"\";\r\n        let node;\r\n        while ((node = walker.nextNode())) {\r\n            const t = node.nodeValue.replace(/\\s+/g, \" \").trim();\r\n            if (!t) continue;\r\n            // ajoute un espace si n√©cessaire entre 2 textes cons√©cutifs\r\n            if (out && !out.endsWith(\" \")) out += \" \";\r\n            out += t;\r\n        }\r\n        return normalizeQuote(out);\r\n    } catch {\r\n        return \"\";\r\n    }\r\n}\r\n","// cache.js\r\nconst LS_KEY = \"posts_to_comments\";\r\nconst mem = new Map();\r\n\r\nexport function getFromCache(postId, ttlMs = 3600000) {\r\n    const id = Number(postId);\r\n    if (mem.has(id)) {\r\n        const v = mem.get(id);\r\n        if (Date.now() - v.time < ttlMs) return v;\r\n    }\r\n    try {\r\n        const all = JSON.parse(localStorage.getItem(LS_KEY) || \"{}\");\r\n        const v = all[id];\r\n        if (v && Date.now() - v.time < ttlMs) {\r\n            mem.set(id, v);\r\n            return v;\r\n        }\r\n    } catch {}\r\n    return null;\r\n}\r\n\r\nexport function putInCache(postId, topic) {\r\n    const id = Number(postId);\r\n    const entry = { ...topic, time: Date.now() };\r\n    mem.set(id, entry);\r\n    const all = (() => {\r\n        try {\r\n            return JSON.parse(localStorage.getItem(LS_KEY) || \"{}\");\r\n        } catch {\r\n            return {};\r\n        }\r\n    })();\r\n    all[id] = entry;\r\n    localStorage.setItem(LS_KEY, JSON.stringify(all));\r\n}\r\n","import { getFromCache, putInCache } from \"./cache.js\";\r\n\r\nfunction normalizeTopic({ id, url, title, count = 0 }) {\r\n    return { id: Number(id), url, title, count: Number(count) || 0 };\r\n}\r\n\r\nexport class Service {\r\n    constructor({ cfg, env }) {\r\n        this.cfg = cfg;\r\n        this.env = env;\r\n    }\r\n\r\n    async findByTag(rpId) {\r\n        const tag = this.cfg.tag_on_create.format(rpId).replace(/^#/, \"\");\r\n        const resp = await Moderactor.adapter.get(`/tags/${tag}`);\r\n        const a = resp.doc.querySelector(\"a.postdetails\");\r\n        if (!a) return null;\r\n        const href = a.getAttribute(\"href\");\r\n        const m = href && href.match(/\\/t(\\d+)-/);\r\n        const countMatch = resp.doc.querySelector(\".postsearch_infos\");\r\n        const count = countMatch\r\n            ? Number(\r\n                  countMatch.textContent\r\n                      .trim()\r\n                      .match(/R√©ponses:.*?(\\d+)/)?.[1] || 0\r\n              )\r\n            : 0;\r\n        return m\r\n            ? normalizeTopic({\r\n                  id: m[1],\r\n                  url: href,\r\n                  title: a.textContent.trim(),\r\n                  count,\r\n              })\r\n            : null;\r\n    }\r\n\r\n    async createFor(rpId) {\r\n        const subject = this.cfg.comment_title_template(\r\n            this.env.stats.topic.title,\r\n            rpId\r\n        );\r\n        const message = this.cfg.new_thread_intro(this.env.stats.topic, rpId);\r\n        const [res] = await Moderactor.forum(this.cfg.comments_forum_id).post({\r\n            subject,\r\n            message,\r\n        });\r\n        const href = res?.links?.topic || \"\";\r\n        const m = href && href.match(/t=(\\d+)\\&/);\r\n        return m\r\n            ? normalizeTopic({ id: m[1], url: href, title: subject, count: 0 })\r\n            : null;\r\n    }\r\n\r\n    async ensureFor(rpId, { ttlMs = 3600000 } = {}) {\r\n        const cached = getFromCache(rpId, ttlMs);\r\n        if (cached) return cached;\r\n\r\n        const tagHit = await this.findByTag(rpId);\r\n        if (tagHit) {\r\n            putInCache(rpId, tagHit);\r\n            return tagHit;\r\n        }\r\n\r\n        const created = await this.createFor(rpId);\r\n        if (created) {\r\n            putInCache(rpId, created);\r\n            return created;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","export const ensureStyle = (() => {\r\n    const loaded = new Set();\r\n    return (id, cssText) => {\r\n        if (loaded.has(id)) return;\r\n        const s = document.createElement(\"style\");\r\n        s.dataset.id = id;\r\n        s.textContent = cssText;\r\n        document.head.appendChild(s);\r\n        loaded.add(id);\r\n    };\r\n})();\r\n","// overlay-view.js\r\nimport { ensureCSSFor } from \"./dom.js\";\r\nimport { ensureStyle } from \"./css-once.js\";\r\n\r\nensureStyle(\r\n    \"commint-animations\",\r\n    `\r\n        @keyframes fadeIn { from{opacity:0} to{opacity:1} }\r\n        @keyframes slideFromBottom { from{ transform: translate3d(0, var(--initial-transform, 100%), 0);} to{ transform: translate3d(0,0,0);} }\r\n        @keyframes slideToBottom { from{ transform: translate3d(0,0,0);} to{ transform: translate3d(0, var(--initial-transform, 100%), 0);} }\r\n        .buttons {background: var(--neutralDark);padding: 1px 8px!important;margin-right: 5px;border-radius: 5px;}\r\n    `\r\n);\r\n\r\nexport class OverlayView {\r\n    constructor(cfg) {\r\n        this.cfg = cfg;\r\n    }\r\n\r\n    open({ title, preset }) {\r\n        const d = document.createElement(\"dialog\");\r\n        d.className = \"commint-dialog\";\r\n        d.setAttribute(\"closedby\", \"any\");\r\n        if (!ensureCSSFor(\".commint-dialog\")) {\r\n            ensureStyle(\r\n                \"commint-overlay\",\r\n                `.commint-dialog{ inset:auto; max-width:none; padding:20px; border:0; position:fixed; bottom:0; width:100%; display:flex; background:#fff; z-index:9999; will-change:transform; }\r\n                .commint-dialog[open]{ animation:.5s cubic-bezier(0.32,0.72,0,1) slideFromBottom forwards; }\r\n                .commint-dialog::backdrop{ background:#0008; animation:.5s cubic-bezier(0.32,0.72,0,1) fadeIn forwards; }\r\n                .commint-form{ display:flex; gap:6px; flex-direction:column; max-width: var(--container, 940px); width:100%; margin:auto; }\r\n                `\r\n            );\r\n        }\r\n\r\n        const html = potion(\"commint-dialog\", {\r\n            title,\r\n            reactions: this.cfg.reactions,\r\n            quoted: Boolean(preset),\r\n            preset,\r\n        });\r\n        d.innerHTML = html;\r\n\r\n        const form = d.querySelector(\"#commit\");\r\n        if (!form)\r\n            console.warn(\"Form #commit introuvable. HTML rendu:\", d.innerHTML);\r\n\r\n        document.body.appendChild(d);\r\n        d.showModal();\r\n\r\n        d.addEventListener(\"click\", (e) => {\r\n            if (e.target === d) d.close(\"backdrop\");\r\n        });\r\n        d.addEventListener(\"cancel\", (e) => {\r\n            e.preventDefault();\r\n            d.close(\"esc\");\r\n        });\r\n        d.addEventListener(\"close\", () => d.remove(), { once: true });\r\n        return { dialog: d, form };\r\n    }\r\n}\r\n","// commint.js\r\nimport { normalizeConfig } from \"./config.js\";\r\nimport { T } from \"./i18n.js\";\r\nimport { qs, qsa, parsePostId, getSelectionIn } from \"./dom.js\";\r\nimport { Service } from \"./service.js\";\r\nimport { OverlayView } from \"./overlay-view.js\";\r\nimport \"./style.css\"; \r\n\r\nexport default class Commint {\r\n    constructor(options) {\r\n        if (!window.Moderactor)\r\n            throw new Error(\"Commint requires Moderactor first.\");\r\n        if (!window.potion) throw new Error(\"Commint requires Potion first.\");\r\n        this.cfg = normalizeConfig(options);\r\n        this.env = null;\r\n        this.service = null;\r\n        this.overlay = new OverlayView(this.cfg);\r\n        this.currentPostCtx = null;\r\n        this._lastQuoteByPost = new WeakMap();\r\n        this.init();\r\n    }\r\n\r\n    installSelectionTracker(post) {\r\n        const grab = () => {\r\n            const txt = getSelectionIn(post);\r\n            if (txt) this._lastQuoteByPost.set(post, txt);\r\n        };\r\n\r\n        // quand l'utilisateur termine sa s√©lection\r\n        post.addEventListener(\"mouseup\", grab);\r\n        post.addEventListener(\"keyup\", (e) => {\r\n            if (e.key?.startsWith(\"Arrow\") || e.key === \"Shift\") grab();\r\n        });\r\n\r\n        // bonus : si tu veux √™tre ultra-fiable\r\n        document.addEventListener(\"selectionchange\", () => {\r\n            // on ne m√©morise que si la s√©lection est dans ce post\r\n            const sel = window.getSelection?.();\r\n            if (!sel || sel.isCollapsed) return;\r\n            const range = sel.getRangeAt(0);\r\n            if (!post.contains(range.commonAncestorContainer)) return;\r\n            grab();\r\n        });\r\n    }\r\n\r\n    async init() {\r\n        const t0 = performance.now();\r\n        this.env = await Moderactor.env();\r\n        if (this.env.page.type !== \"topic\" || !this.env.user?.is_logged) return;\r\n\r\n        // Langue\r\n        T.setLang(this.cfg.lang || this.env.user.lang || \"fr\");\r\n\r\n        // V√©rifie forum autoris√© via breadcrumbs\r\n        const isAllowed = this.cfg.allowed_forums.some((id) =>\r\n            this.env.schema.breadcrumbs.items.some((it) =>\r\n                it.url.includes(`/f${id}`)\r\n            )\r\n        );\r\n        if (!isAllowed) return;\r\n\r\n        this.service = new Service({ cfg: this.cfg, env: this.env });\r\n\r\n        if (this.cfg.mode === \"single_topic\") {\r\n            const topicInfo = await this.service.ensureFor(\r\n                this.cfg.single_topic_id\r\n            );\r\n            if (!topicInfo) return;\r\n\r\n            // tracker de s√©lection sur tout le conteneur topic (ou le document)\r\n            const topicContainer =\r\n                document.querySelector(\".container\") || document.body;\r\n            this.installSelectionTracker(topicContainer);\r\n\r\n            this.addGlobalButton({\r\n                container: topicContainer,\r\n                commentTopic: topicInfo,\r\n            });\r\n            if (this.cfg.debug)\r\n                console.warn(\r\n                    `${Math.round(\r\n                        performance.now() - t0\r\n                    )}ms to init Commint (single_topic)`\r\n                );\r\n            return;\r\n        }\r\n\r\n        // Pr√©pare chaque post\r\n        const posts = qsa(document, `.${this.cfg.post_class}`);\r\n        posts.map((post) => this.processPost(post));\r\n\r\n        if (this.cfg.debug)\r\n            console.warn(\r\n                `${Math.round(performance.now() - t0)}ms to init Commint`\r\n            );\r\n    }\r\n\r\n    async processPost(post) {\r\n        const postId = parsePostId(post);\r\n        if (!postId) return;\r\n\r\n        const topicInfo =\r\n            this.cfg.mode === \"per_post\"\r\n                ? await this.service.ensureFor(postId)\r\n                : await this.service.ensureFor(this.cfg.single_topic_id);\r\n\r\n        if (!topicInfo) {\r\n            if (this.cfg.debug) console.log(\"No comment topic for post:\", post);\r\n            return;\r\n        }\r\n\r\n        this.installSelectionTracker(post);\r\n        this.addButton({ post, commentTopic: topicInfo });\r\n    }\r\n\r\n    addGlobalButton({ container, commentTopic }) {\r\n        if (this._globalBtn) return; // d√©ja pos√©\r\n        const btn = document.createElement(\"button\");\r\n        btn.type = \"button\";\r\n        btn.className = this.cfg.button_class;\r\n        btn.textContent = T(\"comment_global_button\");\r\n\r\n        btn.addEventListener(\"click\", () =>\r\n            this.onGlobalButtonClick({ container, commentTopic, btn })\r\n        );\r\n\r\n        // Choisis o√π l‚Äôins√©rer (priorit√©: config > header du topic > haut du container)\r\n        const host =\r\n            document.querySelector(this.cfg.global_button_append || \"\") ||\r\n            document.querySelector(\".links_bar\") ||\r\n            container;\r\n        this.addButtonToDom(host, btn);\r\n    }\r\n\r\n    addButtonToDom(host, btn) {\r\n        if (host) {\r\n            if (this.cfg.button_position === \"prepend\") {\r\n                host.prepend(btn);\r\n            } else {\r\n                host.appendChild(btn);\r\n            }\r\n        }\r\n    }\r\n\r\n    addButton({ post, commentTopic }) {\r\n        const btn = document.createElement(\"button\");\r\n        btn.type = \"button\";\r\n        btn.className = this.cfg.button_class;\r\n        btn.dataset.count =\r\n            commentTopic.count > 0 ? String(commentTopic.count) : \"\";\r\n        btn.textContent = T(\"comment_button\");\r\n\r\n        btn.addEventListener(\"click\", () =>\r\n            this.onButtonClick({ post, commentTopic, btn })\r\n        );\r\n\r\n        const host = qs(post, this.cfg.button_append);\r\n        this.addButtonToDom(host, btn);\r\n    }\r\n\r\n    onGlobalButtonClick({ container, commentTopic, btn }) {\r\n        // citation: derni√®re s√©lection m√©moris√©e (solution A), sinon relis la s√©lection brute\r\n        const quoted =\r\n            this._lastQuoteByPost.get(container) ||\r\n            getSelectionIn(container) ||\r\n            \"\";\r\n\r\n        // Essaie de d√©duire le post ‚Äúsource‚Äù depuis la s√©lection (pour author/id/permalink)\r\n        let post =\r\n            (() => {\r\n                const sel = window.getSelection?.();\r\n                const n =\r\n                    sel && !sel.isCollapsed\r\n                        ? sel.getRangeAt(0).commonAncestorContainer\r\n                        : null;\r\n                return (\r\n                    n &&\r\n                    (n.nodeType === 1 ? n : n.parentElement)?.closest?.(\r\n                        `.${this.cfg.post_class}`\r\n                    )\r\n                );\r\n            })() || qs(document, `.${this.cfg.post_class}`); // fallback: 1er post\r\n\r\n        const authorEl = post\r\n            ? qs(\r\n                  post,\r\n                  \".postprofile a[href^='/u'], .author a[href^='/u'], a[href^='/u']\"\r\n              )\r\n            : null;\r\n        const author = authorEl ? authorEl.textContent.trim() : null;\r\n        const id = post ? parsePostId(post) : null;\r\n\r\n        this.currentPostCtx = {\r\n            author,\r\n            permalink: location.href,\r\n            id, // peut √™tre null si rien s√©lectionn√©\r\n            post,\r\n            commentTopic,\r\n            quoted,\r\n            btn,\r\n        };\r\n\r\n        if (!this.cfg.use_overlay) {\r\n            location.href = `/post?mode=reply&t=${this.cfg.single_topic_id}`;\r\n            return;\r\n        }\r\n\r\n        const { dialog, form } = this.overlay.open({\r\n            title: T(\"overlay_title\"),\r\n            preset: quoted,\r\n        });\r\n\r\n        form.addEventListener(\"submit\", (e) => this.onSubmit(e, dialog));\r\n    }\r\n\r\n    onButtonClick({ post, commentTopic, btn }) {\r\n        const quoted = this._lastQuoteByPost.get(post) || \"\";\r\n        const authorEl = qs(\r\n            post,\r\n            \".postprofile a[href^='/u'], .author a[href^='/u'], a[href^='/u']\"\r\n        );\r\n        const author = authorEl ? authorEl.textContent.trim() : null;\r\n\r\n        this.currentPostCtx = {\r\n            author,\r\n            permalink: location.href,\r\n            id: parsePostId(post),\r\n            post,\r\n            commentTopic,\r\n            quoted,\r\n            btn,\r\n        };\r\n\r\n        if (!this.cfg.use_overlay) {\r\n            const tId =\r\n                this.cfg.mode === \"single_topic\"\r\n                    ? this.cfg.single_topic_id\r\n                    : commentTopic.id;\r\n            location.href = `/post?mode=reply&t=${tId}`;\r\n            return;\r\n        }\r\n\r\n        const { dialog, form } = this.overlay.open({\r\n            title: T(\"overlay_title\"),\r\n            preset: quoted,\r\n        });\r\n\r\n        form.addEventListener(\"submit\", (e) => this.onSubmit(e, dialog));\r\n    }\r\n\r\n    async onSubmit(e, dialog) {\r\n        e.preventDefault();\r\n        const fd = new FormData(e.currentTarget);\r\n        const body = fd.get(\"body\") || \"\";\r\n        const reaction = fd.get(\"reaction\");\r\n\r\n        const { id, permalink, quoted, author, commentTopic } =\r\n            this.currentPostCtx;\r\n        const message = this.cfg.build_payload({\r\n            permalink,\r\n            id,\r\n            body,\r\n            quote: quoted,\r\n            op: author,\r\n            reaction: this.cfg.reaction_template(\r\n                this.cfg.reactions.find((r) => r.name === reaction)\r\n            ),\r\n        });\r\n\r\n        if (this.cfg.debug)\r\n            console.log({ body, quoted, reaction, message, commentTopic });\r\n\r\n        // ‚Üí ici : appel r√©el √† Moderactor pour poster la r√©ponse dans commentTopic.id\r\n\r\n        await Moderactor.topic(commentTopic.id)\r\n            .post({ message })\r\n            .then(() => {\r\n                dialog.close(); // laisse Potion g√©rer l‚ÄôUX ‚Äútoast‚Äù si tu veux\r\n            });\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}