{"version":3,"file":"commint.js","sources":["../src/config.js","../src/i18n.js","../src/dom.js","../src/cache.js","../src/service.js","../src/css-once.js","../src/overlay-view.js","../src/index.js"],"sourcesContent":["// config.js\r\nexport const DEFAULTS = {\r\n    allowed_forums: [1, 2, 3, 4],\r\n    mode: \"per_post\", // \"per_post\" | \"single_topic\"\r\n    comments_forum_id: null, // required\r\n    single_topic_id: null, // required if mode=single_topic\r\n    use_overlay: true,\r\n    button_class: \"buttons\",\r\n    button_position: \"prepend\", // append, prepend\r\n    button_append: \".post_details\",\r\n    post_class: \"post\",\r\n    global_button_append: \".links_bar\",\r\n    comments_on_page: {\r\n        show: true,\r\n        max: 5,\r\n        order: \"asc\",\r\n        display: \"list\",\r\n        avatar: true,\r\n    },\r\n    tag_on_create: {\r\n        in_title: false,\r\n        format: (id) => `#p${id}`,\r\n    },\r\n    reactions: [\r\n        { emoji: \"üëç\", name: \"Like\" },\r\n        { emoji: \"‚ù§Ô∏è\", name: \"Love\" },\r\n        { emoji: \"üòÇ\", name: \"Haha\" },\r\n        { emoji: \"üòÆ\", name: \"Wow\" },\r\n        { emoji: \"üò¢\", name: \"Sad\" },\r\n        { emoji: \"üò°\", name: \"Angry\" },\r\n    ],\r\n    button_content_template({ text, count }) {\r\n        return text + (count ? ` (${count})` : \"\");\r\n    },\r\n    comment_title_template(title, id) {\r\n        const tag = this.tag_on_create.in_title\r\n            ? ` ${this.tag_on_create.format(id)}`\r\n            : \"\";\r\n        return `${title} ‚Ä¢ Commentaires${tag}`;\r\n    },\r\n    new_thread_intro(rpTopic, id) {\r\n        const tagLine = `${this.tag_on_create.format(id)}\\n\\n`;\r\n        return `${tagLine}[b]Commentaires pour : ${rpTopic.title}[/b]\\nRP : ${rpTopic.url}\\n\\n`;\r\n    },\r\n    reaction_template(reaction) {\r\n        return reaction\r\n            ? `<div class=\"commint-post-reaction\" data-name=\"${reaction.name}\">${reaction.emoji}</div>`\r\n            : \"\";\r\n    },\r\n    build_payload({ permalink, id, body, quote, op, reaction }) {\r\n        const header = quote\r\n            ? `[quote=\"@${op}\"]${quote}[/quote]\\n`\r\n            : `\"@${op}\"\\n`;\r\n        return `${header}[url=${permalink}#${id}]‚Üí Voir le message RP[/url]\\n\\n${body}${\r\n            reaction ? `\\n\\n${reaction}` : \"\"\r\n        }`;\r\n    },\r\n    lang: (navigator.language || \"fr\").replace(/-.*/, \"\") || \"fr\",\r\n    debug: true,\r\n};\r\n\r\nexport function normalizeConfig(opts = {}) {\r\n    const cfg = { ...DEFAULTS, ...opts };\r\n    if (!cfg.comments_forum_id)\r\n        throw new Error(\"comments_forum_id est requis.\");\r\n    if (cfg.mode === \"single_topic\" && !cfg.single_topic_id)\r\n        throw new Error('Mode \"single_topic\" n√©cessite single_topic_id.');\r\n    cfg.allowed_forums = (cfg.allowed_forums || [])\r\n        .map(Number)\r\n        .filter((i) => i !== cfg.comments_forum_id);\r\n    return cfg;\r\n}\r\n","// i18n.js\r\nconst I18N = {\r\n    fr: {\r\n        comment_button: \"Commenter\",\r\n        comment_global_button: \"Commenter le sujet\",\r\n        overlay_title: \"Commenter cette r√©ponse\",\r\n        cancel: \"Annuler\",\r\n        send: \"Envoyer\",\r\n        missing_post_id: \"ID du message introuvable.\",\r\n        posted_toast: \"Commentaire publi√© !\",\r\n    },\r\n    en: {\r\n        comment_button: \"Comment\",\r\n        comment_global_button: \"Comment on the topic\",\r\n        overlay_title: \"Comment on this post\",\r\n        cancel: \"Cancel\",\r\n        send: \"Send\",\r\n        missing_post_id: \"Post ID not found.\",\r\n        posted_toast: \"Comment posted!\",\r\n    },\r\n    es: {\r\n        comment_button: \"Comentar\",\r\n        comment_global_button: \"Comentar en el tema\",\r\n        overlay_title: \"Comentar en este mensaje\",\r\n        cancel: \"Cancelar\",\r\n        send: \"Enviar\",\r\n        missing_post_id: \"ID del mensaje no encontrado.\",\r\n        posted_toast: \"¬°Comentario publicado!\",\r\n    },\r\n};\r\n\r\nlet current = \"fr\";\r\nexport const T = (key) => (I18N[current] && I18N[current][key]) || key;\r\nT.setLang = (lang) => {\r\n    current = lang;\r\n};\r\n","export const qs = (root, sel) => root.querySelector(sel);\r\nexport const qsa = (root, sel) => Array.from(root.querySelectorAll(sel));\r\n\r\nexport function parsePostId(el) {\r\n    const idAttr = el.getAttribute(\"id\") || \"\";\r\n    const m = idAttr.match(/^p?(\\d+)$/);\r\n    return m ? Number(m[1]) : null;\r\n}\r\n\r\nexport function ensureCSSFor(selector) {\r\n    for (const sheet of Array.from(document.styleSheets)) {\r\n        try {\r\n            const rules = sheet.cssRules;\r\n            if (!rules) continue;\r\n            for (const r of Array.from(rules)) {\r\n                if (r.selectorText === selector) return true;\r\n            }\r\n        } catch {\r\n            /* cross-origin */\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport const ensureStyle = (() => {\r\n    const loaded = new Set();\r\n    return (id, cssText) => {\r\n        if (loaded.has(id)) return;\r\n        const s = document.createElement(\"style\");\r\n        s.dataset.id = id;\r\n        s.textContent = cssText;\r\n        document.head.appendChild(s);\r\n        loaded.add(id);\r\n    };\r\n})();\r\n\r\nfunction normalizeQuote(raw) {\r\n    return String(raw)\r\n        .replace(/\\u00a0/g, \" \") // nbsp ‚Üí espace\r\n        .replace(/\\s+\\n/g, \"\\n\") // espaces avant saut de ligne\r\n        .replace(/\\n\\s+/g, \"\\n\") // espaces apr√®s saut de ligne\r\n        .replace(/[ \\t]+/g, \" \") // espaces cons√©cutifs\r\n        .replace(/\\n{3,}/g, \"\\n\\n\") // pas plus de deux \\n de suite\r\n        .trim();\r\n}\r\n\r\nexport function getSelectionIn(container) {\r\n    const sel = window.getSelection?.();\r\n    if (!sel || sel.isCollapsed) return \"\";\r\n\r\n    // 1) chemin le plus robuste : toString()\r\n    if (\r\n        container.contains(sel.anchorNode) ||\r\n        container.contains(sel.focusNode)\r\n    ) {\r\n        const s = normalizeQuote(sel.toString());\r\n        if (s) return s;\r\n    }\r\n\r\n    // 2) fallback (rare): reconstruire via cloneContents() + TreeWalker\r\n    try {\r\n        const range = sel.getRangeAt(0);\r\n        if (!container.contains(range.commonAncestorContainer)) return \"\";\r\n        const frag = range.cloneContents();\r\n        const walker = document.createTreeWalker(\r\n            frag,\r\n            NodeFilter.SHOW_TEXT,\r\n            null\r\n        );\r\n        let out = \"\";\r\n        let node;\r\n        while ((node = walker.nextNode())) {\r\n            const t = node.nodeValue.replace(/\\s+/g, \" \").trim();\r\n            if (!t) continue;\r\n            // ajoute un espace si n√©cessaire entre 2 textes cons√©cutifs\r\n            if (out && !out.endsWith(\" \")) out += \" \";\r\n            out += t;\r\n        }\r\n        return normalizeQuote(out);\r\n    } catch {\r\n        return \"\";\r\n    }\r\n}\r\n","// cache.js\r\nconst LS_KEY = \"posts_to_comments\";\r\nconst mem = new Map();\r\n\r\nexport function getFromCache(postId, ttlMs = 3600000) {\r\n    const id = Number(postId);\r\n    if (mem.has(id)) {\r\n        const v = mem.get(id);\r\n        if (Date.now() - v.time < ttlMs) return v;\r\n    }\r\n    try {\r\n        const all = JSON.parse(localStorage.getItem(LS_KEY) || \"{}\");\r\n        const v = all[id];\r\n        if (v && Date.now() - v.time < ttlMs) {\r\n            mem.set(id, v);\r\n            return v;\r\n        }\r\n    } catch {}\r\n    return null;\r\n}\r\n\r\nexport function putInCache(postId, topic) {\r\n    const id = Number(postId);\r\n    const entry = { ...topic, time: Date.now() };\r\n    mem.set(id, entry);\r\n    const all = (() => {\r\n        try {\r\n            return JSON.parse(localStorage.getItem(LS_KEY) || \"{}\");\r\n        } catch {\r\n            return {};\r\n        }\r\n    })();\r\n    all[id] = entry;\r\n    localStorage.setItem(LS_KEY, JSON.stringify(all));\r\n}\r\n","import { getFromCache, putInCache } from \"./cache.js\";\r\n\r\nfunction normalizeTopic({ id, url, title, count = 0 }) {\r\n    return { id: Number(id), url, title, count: Number(count) || 0 };\r\n}\r\n\r\nexport class Service {\r\n    constructor({ cfg, env }) {\r\n        this.cfg = cfg;\r\n        this.env = env;\r\n    }\r\n\r\n    async findByTag(rpId) {\r\n        const tag = this.cfg.tag_on_create.format(rpId).replace(/^#/, \"\");\r\n        const resp = await Moderactor.adapter.get(`/tags/${tag}`);\r\n        const a = resp.doc.querySelector(\"a.postdetails\");\r\n        if (!a) return null;\r\n        const href = a.getAttribute(\"href\");\r\n        const m = href && href.match(/\\/t(\\d+)-/);\r\n        const countMatch = resp.doc.querySelector(\".postsearch_infos\");\r\n        const count = countMatch\r\n            ? Number(\r\n                  countMatch.textContent\r\n                      .trim()\r\n                      .match(/R√©ponses:.*?(\\d+)/)?.[1] || 0\r\n              )\r\n            : 0;\r\n        return m\r\n            ? normalizeTopic({\r\n                  id: m[1],\r\n                  url: href,\r\n                  title: a.textContent.trim(),\r\n                  count,\r\n              })\r\n            : null;\r\n    }\r\n\r\n    async createFor(rpId) {\r\n        const subject = this.cfg.comment_title_template(\r\n            this.env.stats.topic.title,\r\n            rpId\r\n        );\r\n        const message = this.cfg.new_thread_intro(this.env.stats.topic, rpId);\r\n        const [res] = await Moderactor.forum(this.cfg.comments_forum_id).post({\r\n            subject,\r\n            message,\r\n        });\r\n        const href = res?.links?.topic || \"\";\r\n        const m = href && href.match(/t=(\\d+)\\&/);\r\n        return m\r\n            ? normalizeTopic({ id: m[1], url: href, title: subject, count: 0 })\r\n            : null;\r\n    }\r\n\r\n    async ensureFor(rpId, { ttlMs = 3600000 } = {}) {\r\n        const cached = getFromCache(rpId, ttlMs);\r\n        if (cached) return cached;\r\n\r\n        const tagHit = await this.findByTag(rpId);\r\n        if (tagHit) {\r\n            putInCache(rpId, tagHit);\r\n            return tagHit;\r\n        }\r\n\r\n        const created = await this.createFor(rpId);\r\n        if (created) {\r\n            putInCache(rpId, created);\r\n            return created;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","export const ensureStyle = (() => {\r\n    const loaded = new Set();\r\n    return (id, cssText) => {\r\n        if (loaded.has(id)) return;\r\n        const s = document.createElement(\"style\");\r\n        s.dataset.id = id;\r\n        s.textContent = cssText;\r\n        document.head.appendChild(s);\r\n        loaded.add(id);\r\n    };\r\n})();\r\n","// overlay-view.js\r\nimport { ensureCSSFor } from \"./dom.js\";\r\nimport { ensureStyle } from \"./css-once.js\";\r\n\r\nensureStyle(\r\n    \"commint-animations\",\r\n    `\r\n        @keyframes fadeIn { from{opacity:0} to{opacity:1} }\r\n        @keyframes slideFromBottom { from{ transform: translate3d(0, var(--initial-transform, 100%), 0);} to{ transform: translate3d(0,0,0);} }\r\n        @keyframes slideToBottom { from{ transform: translate3d(0,0,0);} to{ transform: translate3d(0, var(--initial-transform, 100%), 0);} }\r\n        .buttons {background: var(--neutralDark);padding: 1px 8px!important;margin-right: 5px;border-radius: 5px;}\r\n    `\r\n);\r\n\r\nexport class OverlayView {\r\n    constructor(cfg) {\r\n        this.cfg = cfg;\r\n    }\r\n\r\n    open({ title, preset }) {\r\n        const d = document.createElement(\"dialog\");\r\n        d.className = \"commint-dialog\";\r\n        d.setAttribute(\"closedby\", \"any\");\r\n        if (!ensureCSSFor(\".commint-dialog\")) {\r\n            ensureStyle(\r\n                \"commint-overlay\",\r\n                `.commint-dialog{ inset:auto; max-width:none; padding:20px; border:0; position:fixed; bottom:0; width:100%; display:flex; background:#fff; z-index:9999; will-change:transform; }\r\n                .commint-dialog[open]{ animation:.5s cubic-bezier(0.32,0.72,0,1) slideFromBottom forwards; }\r\n                .commint-dialog::backdrop{ background:#0008; animation:.5s cubic-bezier(0.32,0.72,0,1) fadeIn forwards; }\r\n                .commint-form{ display:flex; gap:6px; flex-direction:column; max-width: var(--container, 940px); width:100%; margin:auto; }\r\n                `\r\n            );\r\n        }\r\n\r\n        const html = potion(\"commint-dialog\", {\r\n            title,\r\n            reactions: this.cfg.reactions,\r\n            quoted: Boolean(preset),\r\n            preset,\r\n        });\r\n        d.innerHTML = html;\r\n\r\n        const form = d.querySelector(\"#commit\");\r\n        if (!form)\r\n            console.warn(\"Form #commit introuvable. HTML rendu:\", d.innerHTML);\r\n\r\n        document.body.appendChild(d);\r\n        d.showModal();\r\n\r\n        d.addEventListener(\"click\", (e) => {\r\n            if (e.target === d) d.close(\"backdrop\");\r\n        });\r\n        d.addEventListener(\"cancel\", (e) => {\r\n            e.preventDefault();\r\n            d.close(\"esc\");\r\n        });\r\n        d.addEventListener(\"close\", () => d.remove(), { once: true });\r\n        return { dialog: d, form };\r\n    }\r\n}\r\n","// commint.js\r\nimport { normalizeConfig } from \"./config.js\";\r\nimport { T } from \"./i18n.js\";\r\nimport { qs, qsa, parsePostId, getSelectionIn } from \"./dom.js\";\r\nimport { Service } from \"./service.js\";\r\nimport { OverlayView } from \"./overlay-view.js\";\r\nimport \"./style.css\"; \r\n\r\nexport default class Commint {\r\n    constructor(options) {\r\n        if (!window.Moderactor)\r\n            throw new Error(\"Commint requires Moderactor first.\");\r\n        if (!window.potion) throw new Error(\"Commint requires Potion first.\");\r\n        this.cfg = normalizeConfig(options);\r\n        this.env = null;\r\n        this.service = null;\r\n        this.overlay = new OverlayView(this.cfg);\r\n        this.currentPostCtx = null;\r\n        this._lastQuoteByPost = new WeakMap();\r\n        this.init();\r\n    }\r\n\r\n    installSelectionTracker(post) {\r\n        const grab = () => {\r\n            const txt = getSelectionIn(post);\r\n            if (txt) this._lastQuoteByPost.set(post, txt);\r\n        };\r\n\r\n        // quand l'utilisateur termine sa s√©lection\r\n        post.addEventListener(\"mouseup\", grab);\r\n        post.addEventListener(\"keyup\", (e) => {\r\n            if (e.key?.startsWith(\"Arrow\") || e.key === \"Shift\") grab();\r\n        });\r\n\r\n        // bonus : si tu veux √™tre ultra-fiable\r\n        document.addEventListener(\"selectionchange\", () => {\r\n            // on ne m√©morise que si la s√©lection est dans ce post\r\n            const sel = window.getSelection?.();\r\n            if (!sel || sel.isCollapsed) return;\r\n            const range = sel.getRangeAt(0);\r\n            if (!post.contains(range.commonAncestorContainer)) return;\r\n            grab();\r\n        });\r\n    }\r\n\r\n    async init() {\r\n        const t0 = performance.now();\r\n        this.env = await Moderactor.env();\r\n        if (this.env.page.type !== \"topic\" || !this.env.user?.is_logged) return;\r\n\r\n        // Langue\r\n        T.setLang(this.cfg.lang || this.env.user.lang || \"fr\");\r\n\r\n        // V√©rifie forum autoris√© via breadcrumbs\r\n        const isAllowed = this.cfg.allowed_forums.some((id) =>\r\n            this.env.schema.breadcrumbs.items.some((it) =>\r\n                it.url.includes(`/f${id}`)\r\n            )\r\n        );\r\n        if (!isAllowed) return;\r\n\r\n        this.service = new Service({ cfg: this.cfg, env: this.env });\r\n\r\n        if (this.cfg.mode === \"single_topic\") {\r\n            const topicInfo = await this.service.ensureFor(\r\n                this.cfg.single_topic_id\r\n            );\r\n            if (!topicInfo) return;\r\n\r\n            // tracker de s√©lection sur tout le conteneur topic (ou le document)\r\n            const topicContainer =\r\n                document.querySelector(\".container\") || document.body;\r\n            this.installSelectionTracker(topicContainer);\r\n\r\n            this.addGlobalButton({\r\n                container: topicContainer,\r\n                commentTopic: topicInfo,\r\n            });\r\n            if (this.cfg.debug)\r\n                console.warn(\r\n                    `${Math.round(\r\n                        performance.now() - t0\r\n                    )}ms to init Commint (single_topic)`\r\n                );\r\n            return;\r\n        }\r\n\r\n        // Pr√©pare chaque post\r\n        const posts = qsa(document, `.${this.cfg.post_class}`);\r\n        posts.map((post) => this.processPost(post));\r\n\r\n        if (this.cfg.debug)\r\n            console.warn(\r\n                `${Math.round(performance.now() - t0)}ms to init Commint`\r\n            );\r\n    }\r\n\r\n    async processPost(post) {\r\n        const postId = parsePostId(post);\r\n        if (!postId) return;\r\n\r\n        const topicInfo =\r\n            this.cfg.mode === \"per_post\"\r\n                ? await this.service.ensureFor(postId)\r\n                : await this.service.ensureFor(this.cfg.single_topic_id);\r\n\r\n        if (!topicInfo) {\r\n            if (this.cfg.debug) console.log(\"No comment topic for post:\", post);\r\n            return;\r\n        }\r\n\r\n        this.installSelectionTracker(post);\r\n        this.addButton({ post, commentTopic: topicInfo });\r\n    }\r\n\r\n    addGlobalButton({ container, commentTopic }) {\r\n        if (this._globalBtn) return; // d√©ja pos√©\r\n        const btn = document.createElement(\"button\");\r\n        btn.type = \"button\";\r\n        btn.className = this.cfg.button_class;\r\n        btn.textContent = T(\"comment_global_button\");\r\n\r\n        btn.addEventListener(\"click\", () =>\r\n            this.onGlobalButtonClick({ container, commentTopic, btn })\r\n        );\r\n\r\n        // Choisis o√π l‚Äôins√©rer (priorit√©: config > header du topic > haut du container)\r\n        const host =\r\n            document.querySelector(this.cfg.global_button_append || \"\") ||\r\n            document.querySelector(\".links_bar\") ||\r\n            container;\r\n        this.addButtonToDom(host, btn);\r\n    }\r\n\r\n    addButtonToDom(host, btn) {\r\n        if (host) {\r\n            if (this.cfg.button_position === \"prepend\") {\r\n                host.prepend(btn);\r\n            } else {\r\n                host.appendChild(btn);\r\n            }\r\n        }\r\n    }\r\n\r\n    addButton({ post, commentTopic }) {\r\n        const btn = document.createElement(\"button\");\r\n        btn.type = \"button\";\r\n        btn.className = this.cfg.button_class;\r\n        btn.dataset.count =\r\n            commentTopic.count > 0 ? String(commentTopic.count) : \"\";\r\n        btn.textContent = T(\"comment_button\");\r\n\r\n        btn.addEventListener(\"click\", () =>\r\n            this.onButtonClick({ post, commentTopic, btn })\r\n        );\r\n\r\n        const host = qs(post, this.cfg.button_append);\r\n        this.addButtonToDom(host, btn);\r\n    }\r\n\r\n    onGlobalButtonClick({ container, commentTopic, btn }) {\r\n        // citation: derni√®re s√©lection m√©moris√©e (solution A), sinon relis la s√©lection brute\r\n        const quoted =\r\n            this._lastQuoteByPost.get(container) ||\r\n            getSelectionIn(container) ||\r\n            \"\";\r\n\r\n        // Essaie de d√©duire le post ‚Äúsource‚Äù depuis la s√©lection (pour author/id/permalink)\r\n        let post =\r\n            (() => {\r\n                const sel = window.getSelection?.();\r\n                const n =\r\n                    sel && !sel.isCollapsed\r\n                        ? sel.getRangeAt(0).commonAncestorContainer\r\n                        : null;\r\n                return (\r\n                    n &&\r\n                    (n.nodeType === 1 ? n : n.parentElement)?.closest?.(\r\n                        `.${this.cfg.post_class}`\r\n                    )\r\n                );\r\n            })() || qs(document, `.${this.cfg.post_class}`); // fallback: 1er post\r\n\r\n        const authorEl = post\r\n            ? qs(\r\n                  post,\r\n                  \".postprofile a[href^='/u'], .author a[href^='/u'], a[href^='/u']\"\r\n              )\r\n            : null;\r\n        const author = authorEl ? authorEl.textContent.trim() : null;\r\n        const id = post ? parsePostId(post) : null;\r\n\r\n        this.currentPostCtx = {\r\n            author,\r\n            permalink: location.href,\r\n            id, // peut √™tre null si rien s√©lectionn√©\r\n            post,\r\n            commentTopic,\r\n            quoted,\r\n            btn,\r\n        };\r\n\r\n        if (!this.cfg.use_overlay) {\r\n            location.href = `/post?mode=reply&t=${this.cfg.single_topic_id}`;\r\n            return;\r\n        }\r\n\r\n        const { dialog, form } = this.overlay.open({\r\n            title: T(\"overlay_title\"),\r\n            preset: quoted,\r\n        });\r\n\r\n        form.addEventListener(\"submit\", (e) => this.onSubmit(e, dialog));\r\n    }\r\n\r\n    onButtonClick({ post, commentTopic, btn }) {\r\n        const quoted = this._lastQuoteByPost.get(post) || \"\";\r\n        const authorEl = qs(\r\n            post,\r\n            \".postprofile a[href^='/u'], .author a[href^='/u'], a[href^='/u']\"\r\n        );\r\n        const author = authorEl ? authorEl.textContent.trim() : null;\r\n\r\n        this.currentPostCtx = {\r\n            author,\r\n            permalink: location.href,\r\n            id: parsePostId(post),\r\n            post,\r\n            commentTopic,\r\n            quoted,\r\n            btn,\r\n        };\r\n\r\n        if (!this.cfg.use_overlay) {\r\n            const tId =\r\n                this.cfg.mode === \"single_topic\"\r\n                    ? this.cfg.single_topic_id\r\n                    : commentTopic.id;\r\n            location.href = `/post?mode=reply&t=${tId}`;\r\n            return;\r\n        }\r\n\r\n        const { dialog, form } = this.overlay.open({\r\n            title: T(\"overlay_title\"),\r\n            preset: quoted,\r\n        });\r\n\r\n        form.addEventListener(\"submit\", (e) => this.onSubmit(e, dialog));\r\n    }\r\n\r\n    async onSubmit(e, dialog) {\r\n        e.preventDefault();\r\n        const fd = new FormData(e.currentTarget);\r\n        const body = fd.get(\"body\") || \"\";\r\n        const reaction = fd.get(\"reaction\");\r\n\r\n        const { id, permalink, quoted, author, commentTopic } =\r\n            this.currentPostCtx;\r\n        const message = this.cfg.build_payload({\r\n            permalink,\r\n            id,\r\n            body,\r\n            quote: quoted,\r\n            op: author,\r\n            reaction: this.cfg.reaction_template(\r\n                this.cfg.reactions.find((r) => r.name === reaction)\r\n            ),\r\n        });\r\n\r\n        if (this.cfg.debug)\r\n            console.log({ body, quoted, reaction, message, commentTopic });\r\n\r\n        // ‚Üí ici : appel r√©el √† Moderactor pour poster la r√©ponse dans commentTopic.id\r\n\r\n        await Moderactor.topic(commentTopic.id)\r\n            .post({ message })\r\n            .then(() => {\r\n                dialog.close(); // laisse Potion g√©rer l‚ÄôUX ‚Äútoast‚Äù si tu veux\r\n            });\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}